<style>
    .keywords{
        color:blue
    }
    .punctuator{
        color:blueviolet
    }
    .identifier{
        color:skyblue
    }
</style>
<pre id="containter"></pre>
<script>
var source = `
    async function sleep(time){
        return new Promise((resolve, reject) =>{
            setTimeout(resolve, time);
        })
    }
`
var regexp = /(async|function|new|return)|([ \t\n\r]+)|([a-zA-Z][a-zA-Z0-9]*)|([\(\)\{\}\,\;])/g;
var dictionary = ["keywords", "whitespace", "identifier", "punctuator"];
var token = null;
var lastIndex = 0;
var containter = document.getElementById("containter");
do{
    lastIndex = regexp.lastIndex
    token = regexp.exec(source)
    if(!token) break;
    let text= document.createElement("span")
    text.textContent = token[0]
    console.log(regexp.lastIndex)
    for(let i = 1; i <= 4; i++){
        if(token[i]){
            text.classList.add(dictionary[i-1]);
            console.log(`${dictionary[i-1]} : ${token[i]}`)
        }
    }
    containter.appendChild(text);
}while(token)
</script>